version: '3.8'

services:
  bili-bot:
    image: unsplash/bili-qq-bot:latest
    # 若需使用本地打包镜像：
    # 1) 注释掉上面的 image 字段
    # 2) 取消注释下方 build 字段
    # 3) 执行 `docker-compose up -d --build`
    # build: .
    container_name: bili-qq-bot
    restart: always
    network_mode: "host" # 使用宿主机网络，解决连接 localhost:3001 的问题
    # 挂载卷：持久化重要数据
    volumes:
      - ./config:/app/config              # 配置目录 (.env, config.json)
      - ./data:/app/data                  # 数据目录 (cookies.json, subscriptions.json)
      - ./logs:/app/logs                  # 查看日志
      - ./fonts/custom:/app/fonts/custom  # 自定义字体目录
      - /root/napcat-data/QQ:/root/napcat-data/QQ                  # QQ数据目录映射
    # 环境变量 (也可以直接读取 .env 文件)
    environment:
      - TZ=Asia/Shanghai                  # 设置时区为上海
