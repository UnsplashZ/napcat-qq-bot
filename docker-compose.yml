version: '3.8'

services:
  napcat:
    image: mlikiowa/napcat-docker:latest
    container_name: napcat
    restart: always
    ports:
      - "6099:6099" # NapCat WebUI
      - "3001:3001" # WebSocket Server
    environment:
      - TZ=Asia/Shanghai
      - WS_ENABLE=true
      - HTTP_ENABLE=true
    volumes:
      - ./napcat/config:/app/napcat/config
      - ./napcat/qq:/app/.config/QQ

  bili-bot:
    image: unsplash/bili-qq-bot:latest
    # build: .
    container_name: bili-qq-bot
    restart: always
    depends_on:
      - napcat
    environment:
      - TZ=Asia/Shanghai
    volumes:
      - ./config:/app/config
      - ./data:/app/data
      - ./logs:/app/logs
      - ./fonts/custom:/app/fonts/custom
      # 映射此目录以将生成的图片写入 NapCat 可访问的位置
      - ./napcat/qq:/app/.config/QQ
